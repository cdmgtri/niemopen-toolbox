import{a as T,c as P}from"./n2hCANGf.js";import{b as E}from"./DnOhiAXk.js";import{N as b,u as S}from"./6HjxEEwp.js";import{_ as h}from"./DsPweMlB.js";import{e as g,o as l,i as u,w as p,a as V,t as k,b as v,h as r,g as y,r as N,q as _,ag as x,m as G,D as z,z as D}from"./B4LEY2OC.js";import{_ as F}from"./BLReP4tF.js";import{_ as O}from"./Bu0u5di3.js";import{A,T as Q}from"./B7lAAY5O.js";const q={class:"capitalize"},U=g({__name:"ListNamespacesByCategory",props:{namespaces:{default:()=>[]}},setup(e){const n=[...new Set(e.namespaces.map(t=>t.category))].filter(t=>t!=null).sort(b.sortCategories).map(t=>{let i=e.namespaces.filter(c=>c.category==t).sort(b.sort);return{icon:h.namespace,label:`${t} (${i.length})`,namespaces:i}}),o=e.namespaces.filter(t=>t.category==null);return o.length>0&&n.push({icon:h.namespace,label:`[undefined] ${o.length}`,namespaces:o}),(t,i)=>{const c=T,d=E;return l(),u(d,{type:"multiple",items:r(n)},{default:p(({item:m})=>[V("div",q,k(m.label),1)]),body:p(({item:m})=>[v(c,{entities:m.namespaces,class:"pl-4",disableExpand:!0,useLabelQualifier:!0},null,8,["entities"])]),_:1},8,["items"])}}}),j=g({__name:"ListNamespaces",props:{namespaces:{default:()=>[]}},setup(e){return(a,n)=>{const o=T;return l(),u(o,{entities:a.namespaces,disableExpand:!0,useLabelQualifier:!0},null,8,["entities"])}}}),se=g({__name:"ContentVersion",props:{as:{},version:{},groupNamespacesByCategory:{type:Boolean,default:!1}},async setup(e){let a,n;const o=S(),t=([a,n]=y(()=>o.namespaces(e.version)),a=await a,n(),a);e.version.namespacesCount=t.length;const i=N([]),c=N([]),d=_(()=>!e.version.propertiesLoaded),m=_(()=>!e.version.typesLoaded);e.version.propertiesCount=0,e.version.typesCount=0,[a,n]=y(()=>C()),await a,n(),[a,n]=y(()=>L()),await a,n();async function C(){if(e.version.propertiesLoaded)return;e.version.propertiesCount||(e.version.propertiesCount=0);let s=await o.propertiesFromVersion(e.version,i.value.length);s.length<A.PAGINATION_LIMIT&&(e.version.propertiesLoaded=!0),e.version.propertiesCount+=s.length,i.value.push(...s)}async function L(){if(e.version.typesLoaded)return;e.version.typesCount||(e.version.typesCount=0);let s=await o.typesFromVersion(e.version,c.value.length);s.length<A.PAGINATION_LIMIT&&(e.version.typesLoaded=!0),e.version.typesCount+=s.length,c.value.push(...s)}return(s,H)=>{const $=U,I=j,w=F,M=O,B=P;return l(),u(B,{as:s.as,entity:s.version},x({namespaces:p(()=>[s.groupNamespacesByCategory?(l(),u($,{key:0,namespaces:r(t)},null,8,["namespaces"])):(l(),u(I,{key:1,namespaces:r(t)},null,8,["namespaces"]))]),properties:p(()=>[v(w,{properties:r(i),"enable-more":r(d),onLoadMore:C},null,8,["properties","enable-more"])]),types:p(()=>[v(M,{types:r(c),"enable-more":r(m),onLoadMore:L},null,8,["types","enable-more"])]),_:2},[G(("ToolboxApp"in s?s.ToolboxApp:r(Q)).PAGE_PANEL_NAMES,f=>({name:f,fn:p(()=>[f in s.$slots?z(s.$slots,f,{key:0}):D("",!0)])}))]),1032,["as","entity"])}}});export{se as _};
//# sourceMappingURL=D6uUyMch.js.map
