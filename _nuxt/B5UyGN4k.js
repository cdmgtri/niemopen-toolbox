import{q as W,J as T,bt as K,au as M,bu as $,bv as I,S as U,bw as G,bx as z,by as Q,bz as F,ah as X,bA as Y,bB as Z,bC as k,e as J,bD as ee,bd as te,aj as ne,be as re,bj as ae}from"./CWQT1cTJ.js";function ve(e={}){const{inheritAttrs:n=!0}=e,t=M(),u=J({setup(c,{slots:p}){return()=>{t.value=p.default}}}),d=J({inheritAttrs:n,setup(c,{attrs:p,slots:l}){return()=>{var o;t.value;const a=(o=t.value)==null?void 0:o.call(t,{...oe(p),$slots:l});return n&&(a==null?void 0:a.length)===1?a[0]:a}}});return $({define:u,reuse:d},[u,d])}function oe(e){const n={};for(const t in e)n[ee(t)]=e[t];return n}const j=F?window:void 0,q=F?window.navigator:void 0;function ie(e){var n;const t=z(e);return(n=t==null?void 0:t.$el)!=null?n:t}function x(...e){let n,t,u,d;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,u,d]=e,n=j):[n,t,u,d]=e,!n)return I;Array.isArray(t)||(t=[t]),Array.isArray(u)||(u=[u]);const c=[],p=()=>{c.forEach(i=>i()),c.length=0},l=(i,f,S,g)=>(i.addEventListener(f,S,g),()=>i.removeEventListener(f,S,g)),o=U(()=>[ie(n),z(d)],([i,f])=>{if(p(),!i)return;const S=G(f)?{...f}:f;c.push(...t.flatMap(g=>u.map(h=>l(i,g,h,S))))},{immediate:!0,flush:"post"}),a=()=>{o(),p()};return Q(a),a}function se(){const e=T(!1),n=te();return n&&X(()=>{e.value=!0},n),e}function B(e){const n=se();return W(()=>(n.value,!!e()))}function R(e,n={}){const{controls:t=!1,navigator:u=q}=n,d=B(()=>u&&"permissions"in u),c=M(),p=typeof e=="string"?{name:e}:e,l=M(),o=()=>{var i,f;l.value=(f=(i=c.value)==null?void 0:i.state)!=null?f:"prompt"};x(c,"change",o);const a=Y(async()=>{if(d.value){if(!c.value)try{c.value=await u.permissions.query(p)}catch{c.value=void 0}finally{o()}if(t)return ae(c.value)}});return a(),t?{state:l,isSupported:d,query:a}:l}function me(e={}){const{navigator:n=q,read:t=!1,source:u,copiedDuring:d=1500,legacy:c=!1}=e,p=B(()=>n&&"clipboard"in n),l=R("clipboard-read"),o=R("clipboard-write"),a=W(()=>p.value||c),i=T(""),f=T(!1),S=K(()=>f.value=!1,d);function g(){p.value&&_(l.value)?n.clipboard.readText().then(s=>{i.value=s}):i.value=w()}a.value&&t&&x(["copy","cut"],g);async function h(s=z(u)){a.value&&s!=null&&(p.value&&_(o.value)?await n.clipboard.writeText(s):y(s),i.value=s,f.value=!0,S.start())}function y(s){const m=document.createElement("textarea");m.value=s??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function w(){var s,m,A;return(A=(m=(s=document==null?void 0:document.getSelection)==null?void 0:s.call(document))==null?void 0:m.toString())!=null?A:""}function _(s){return s==="granted"||s==="prompt"}return{isSupported:a,text:i,copied:f,copy:h}}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O="__vueuse_ssr_handlers__",ue=le();function le(){return O in N||(N[O]=N[O]||{}),N[O]}function ce(e,n){return ue[e]||n}function fe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const de={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},V="vueuse-storage";function be(e,n,t,u={}){var d;const{flush:c="pre",deep:p=!0,listenToStorageChanges:l=!0,writeDefaults:o=!0,mergeDefaults:a=!1,shallow:i,window:f=j,eventFilter:S,onError:g=r=>{console.error(r)},initOnMounted:h}=u,y=(i?M:T)(typeof n=="function"?n():n);if(!t)try{t=ce("getDefaultStorage",()=>{var r;return(r=j)==null?void 0:r.localStorage})()}catch(r){g(r)}if(!t)return y;const w=z(n),_=fe(w),s=(d=u.serializer)!=null?d:de[_],{pause:m,resume:A}=Z(y,()=>L(y.value),{flush:c,deep:p,eventFilter:S});f&&l&&k(()=>{t instanceof Storage?x(f,"storage",E):x(f,V,H),h&&E()}),h||E();function D(r,v){if(f){const b={key:e,oldValue:r,newValue:v,storageArea:t};f.dispatchEvent(t instanceof Storage?new StorageEvent("storage",b):new CustomEvent(V,{detail:b}))}}function L(r){try{const v=t.getItem(e);if(r==null)D(v,null),t.removeItem(e);else{const b=s.write(r);v!==b&&(t.setItem(e,b),D(v,b))}}catch(v){g(v)}}function P(r){const v=r?r.newValue:t.getItem(e);if(v==null)return o&&w!=null&&t.setItem(e,s.write(w)),w;if(!r&&a){const b=s.read(v);return typeof a=="function"?a(b,w):_==="object"&&!Array.isArray(b)?{...w,...b}:b}else return typeof v!="string"?v:s.read(v)}function E(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){y.value=w;return}if(!(r&&r.key!==e)){m();try{(r==null?void 0:r.newValue)!==s.write(y.value)&&(y.value=P(r))}catch(v){g(v)}finally{r?ne(A):A()}}}}function H(r){E(r.detail)}return y}const C=new Map;function ge(e){const n=re();function t(l){var o;const a=C.get(e)||new Set;a.add(l),C.set(e,a);const i=()=>d(l);return(o=n==null?void 0:n.cleanups)==null||o.push(i),i}function u(l){function o(...a){d(o),l(...a)}return t(o)}function d(l){const o=C.get(e);o&&(o.delete(l),o.size||c())}function c(){C.delete(e)}function p(l,o){var a;(a=C.get(e))==null||a.forEach(i=>i(l,o))}return{on:t,once:u,off:d,emit:p,reset:c}}export{me as a,ge as b,ve as c,be as u};
