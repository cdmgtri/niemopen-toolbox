import{_ as ke}from"./Drg2gWCj.js";import{b as oe,_ as Ie,c as Se,a as we}from"./DSEgpSu5.js";import{_ as p,a as ze,b as Ce,c as Te,d as $e,e as Le,f as Oe,g as De,F as Fe}from"./BAve5Hdy.js";import{s as le,v as re,x as Ke,y as Me,z as ue,A as Pe,B as Be,C as _e,D as Ae,E as Re,G as Ee,H as Ue,I as Ve,J as qe,K as Ne,L as Xe,M as J,i as Q,N as de,O as je,P as me,Q as Ge,R as ce,l as A,o as d,c as F,b as o,w as r,S as K,f as v,g as q,e as a,T as I,U as xe,V as $,q as R,W as N,d as C,t as He,a as T,F as _,r as X,X as We,Y as pe,h as Ze,Z as Je,$ as Qe,a0 as Ye,a1 as ea,a2 as ee,a3 as aa,a4 as ae,a5 as se,j as ie,k as sa,m as ia,n as na}from"./B71Zi0NB.js";import{c as ta}from"./BZaJQa5G.js";import{i as D,l as W,b as ne}from"./DEqQpGQK.js";import{v as Z,i as oa,g as la}from"./CzGluIhe.js";import{_ as ra}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const z={Root:le,Trigger:re,Portal:Ke,Content:Me,Arrow:ue,Item:Pe,Group:Be,Separator:_e,CheckboxItem:Ae,ItemIndicator:Re,Label:Ee,RadioGroup:Ue,RadioItem:Ve,Sub:qe,SubContent:Ne,SubTrigger:Xe},fe={slots:{content:"min-w-32 bg-[var(--ui-bg)] shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-[var(--ui-border)] divide-y divide-[var(--ui-border)] overflow-y-auto scroll-py-1 data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in]",arrow:"fill-[var(--ui-border)]",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-[var(--ui-text-highlighted)]",separator:"-mx-1 my-1 h-px bg-[var(--ui-border)]",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"size-3 align-top text-[var(--ui-text-dimmed)]"},variants:{active:{true:{item:"text-[var(--ui-text-highlighted)] before:bg-[var(--ui-bg-elevated)]",itemLeadingIcon:"text-[var(--ui-text)]"},false:{item:["text-[var(--ui-text)] data-highlighted:text-[var(--ui-text-highlighted)] data-[state=open]:text-[var(--ui-text-highlighted)] data-highlighted:before:bg-[var(--ui-bg-elevated)]/50 data-[state=open]:before:bg-[var(--ui-bg-elevated)]/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-[var(--ui-text-dimmed)] group-data-highlighted:text-[var(--ui-text)] group-data-[state=open]:text-[var(--ui-text)]","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},defaultVariants:{size:"md"}};J(fe)();const ge=Q({__name:"DropdownMenuContent",props:{items:{},portal:{type:Boolean},sub:{type:Boolean},labelKey:{},checkedIcon:{},loadingIcon:{},class:{},ui:{},uiOverride:{},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(j,{emit:u}){const i=j,M=u,L=de(),O=je(),E=me(Ge(i,"sub","items","portal","class","ui"),M),U=ce(L,["default"]),[V,S]=ta(),y=A(()=>{var e;return(e=i.items)!=null&&e.length?Array.isArray(i.items[0])?i.items:[i.items]:[]});return(e,G)=>{const P=ge;return d(),F(_,null,[o(a(V),null,{default:r(({item:l,active:b,index:w})=>[K(e.$slots,l.slot||"item",{item:l,index:w},()=>{var t,n,s;return[K(e.$slots,l.slot?`${l.slot}-leading`:"item-leading",{item:l,active:b,index:w},()=>{var m,g,f,c;return[l.loading?(d(),v(q,{key:0,name:e.loadingIcon||a(O).ui.icons.loading,class:I(("ui"in e?e.ui:a(p)).itemLeadingIcon({class:(m=e.uiOverride)==null?void 0:m.itemLeadingIcon,loading:!0}))},null,8,["name","class"])):l.icon?(d(),v(q,{key:1,name:l.icon,class:I(("ui"in e?e.ui:a(p)).itemLeadingIcon({class:(g=e.uiOverride)==null?void 0:g.itemLeadingIcon,active:b}))},null,8,["name","class"])):l.avatar?(d(),v(xe,$({key:2,size:((f=i.uiOverride)==null?void 0:f.itemLeadingAvatarSize)||("ui"in e?e.ui:a(p)).itemLeadingAvatarSize()},l.avatar,{class:("ui"in e?e.ui:a(p)).itemLeadingAvatar({class:(c=e.uiOverride)==null?void 0:c.itemLeadingAvatar,active:b})}),null,16,["size","class"])):R("",!0)]}),a(N)(l,i.labelKey)||L[l.slot?`${l.slot}-label`:"item-label"]?(d(),F("span",{key:0,class:I(("ui"in e?e.ui:a(p)).itemLabel({class:(t=e.uiOverride)==null?void 0:t.itemLabel,active:b}))},[K(e.$slots,l.slot?`${l.slot}-label`:"item-label",{item:l,active:b,index:w},()=>[C(He(a(N)(l,i.labelKey)),1)]),l.target==="_blank"?(d(),v(q,{key:0,name:a(O).ui.icons.external,class:I(("ui"in e?e.ui:a(p)).itemLabelExternalIcon({class:(n=e.uiOverride)==null?void 0:n.itemLabelExternalIcon,active:b}))},null,8,["name","class"])):R("",!0)],2)):R("",!0),T("span",{class:I(("ui"in e?e.ui:a(p)).itemTrailing({class:(s=e.uiOverride)==null?void 0:s.itemTrailing}))},[K(e.$slots,l.slot?`${l.slot}-trailing`:"item-trailing",{item:l,active:b,index:w},()=>{var m,g,f,c;return[(m=l.children)!=null&&m.length?(d(),v(q,{key:0,name:a(O).ui.icons.chevronRight,class:I(("ui"in e?e.ui:a(p)).itemTrailingIcon({class:(g=e.uiOverride)==null?void 0:g.itemTrailingIcon,active:b}))},null,8,["name","class"])):(f=l.kbds)!=null&&f.length?(d(),F("span",{key:1,class:I(("ui"in e?e.ui:a(p)).itemTrailingKbds({class:(c=e.uiOverride)==null?void 0:c.itemTrailingKbds}))},[(d(!0),F(_,null,X(l.kbds,(h,k)=>{var B;return d(),v(oe,$({key:k,size:((B=i.uiOverride)==null?void 0:B.itemTrailingKbdsSize)||("ui"in e?e.ui:a(p)).itemTrailingKbdsSize(),ref_for:!0},typeof h=="string"?{value:h}:h),null,16,["size"])}),128))],2)):R("",!0)]}),o(a(z).ItemIndicator,{"as-child":""},{default:r(()=>{var m;return[o(q,{name:e.checkedIcon||a(O).ui.icons.check,class:I(("ui"in e?e.ui:a(p)).itemTrailingIcon({class:(m=e.uiOverride)==null?void 0:m.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:3}),o(a(z).Portal,{disabled:!e.portal},{default:r(()=>[(d(),v(We(e.sub?a(z).SubContent:a(z).Content),$({class:i.class},a(E)),{default:r(()=>[(d(!0),F(_,null,X(y.value,(l,b)=>{var w;return d(),v(a(z).Group,{key:`group-${b}`,class:I(("ui"in e?e.ui:a(p)).group({class:(w=e.uiOverride)==null?void 0:w.group}))},{default:r(()=>[(d(!0),F(_,null,X(l,(t,n)=>{var s,m,g,f;return d(),F(_,{key:`group-${b}-${n}`},[t.type==="label"?(d(),v(a(z).Label,{key:0,class:I(("ui"in e?e.ui:a(p)).label({class:(s=e.uiOverride)==null?void 0:s.label}))},{default:r(()=>[o(a(S),{item:t,index:n},null,8,["item","index"])]),_:2},1032,["class"])):t.type==="separator"?(d(),v(a(z).Separator,{key:1,class:I(("ui"in e?e.ui:a(p)).separator({class:(m=e.uiOverride)==null?void 0:m.separator}))},null,8,["class"])):(g=t==null?void 0:t.children)!=null&&g.length?(d(),v(a(z).Sub,{key:2,open:t.open,"default-open":t.defaultOpen},{default:r(()=>{var c;return[o(a(z).SubTrigger,{as:"button",type:"button",disabled:t.disabled,"text-value":a(N)(t,i.labelKey),class:I(("ui"in e?e.ui:a(p)).item({class:(c=e.uiOverride)==null?void 0:c.item}))},{default:r(()=>[o(a(S),{item:t,index:n},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),o(P,$({sub:"",class:i.class,ui:"ui"in e?e.ui:a(p),"ui-override":e.uiOverride,portal:e.portal,items:t.children,side:"right",align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,ref_for:!0},t.content),pe({_:2},[X(a(U),(h,k)=>({name:k,fn:r(B=>[K(e.$slots,k,$({ref_for:!0},B))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon"])]}),_:2},1032,["open","default-open"])):t.type==="checkbox"?(d(),v(a(z).CheckboxItem,{key:3,checked:t.checked,disabled:t.disabled,"text-value":a(N)(t,i.labelKey),class:I(("ui"in e?e.ui:a(p)).item({class:[(f=e.uiOverride)==null?void 0:f.item,t.class]})),"onUpdate:checked":t.onUpdateChecked,onSelect:t.onSelect},{default:r(()=>[o(a(S),{item:t,index:n},null,8,["item","index"])]),_:2},1032,["checked","disabled","text-value","class","onUpdate:checked","onSelect"])):(d(),v(a(z).Item,{key:4,"as-child":"",disabled:t.disabled,"text-value":a(N)(t,i.labelKey),onSelect:t.onSelect},{default:r(()=>[o(Ze,$({ref_for:!0},a(Je)(t),{custom:""}),{default:r(({active:c,...h})=>{var k;return[o(Qe,$({ref_for:!0},h,{class:("ui"in e?e.ui:a(p)).item({class:[(k=e.uiOverride)==null?void 0:k.item,t.class],active:c})}),{default:r(()=>[o(a(S),{item:t,active:c,index:n},null,8,["item","active","index"])]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),K(e.$slots,"default")]),_:3},16,["class"]))]),_:3},8,["disabled"])],64)}}}),ua=Ye;var te;const da=J({extend:J(fe),...((te=ua.ui)==null?void 0:te.dropdownMenu)||{}}),ma=Q({__name:"DropdownMenu",props:{size:{},items:{},checkedIcon:{},loadingIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},labelKey:{default:"label"},disabled:{type:Boolean},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(j,{emit:u}){const i=j,M=u,L=de(),O=me(ea(i,"defaultOpen","open","modal"),M),E=ee(()=>aa(i.content,{side:"bottom",sideOffset:8})),U=ee(()=>i.arrow),V=ce(L,["default"]),S=A(()=>da({size:i.size}));return(y,e)=>(d(),v(a(le),ae(se(a(O))),{default:r(({open:G})=>{var P;return[L.default?(d(),v(a(re),{key:0,"as-child":"",disabled:y.disabled},{default:r(()=>[K(y.$slots,"default",{open:G})]),_:2},1032,["disabled"])):R("",!0),o(ge,$({class:S.value.content({class:[i.class,(P=i.ui)==null?void 0:P.content]}),ui:S.value,"ui-override":i.ui},E.value,{items:y.items,portal:y.portal,"label-key":y.labelKey,"checked-icon":y.checkedIcon,"loading-icon":y.loadingIcon}),pe({default:r(()=>{var l;return[y.arrow?(d(),v(a(ue),$({key:0},U.value,{class:S.value.arrow({class:(l=i.ui)==null?void 0:l.arrow})}),null,16,["class"])):R("",!0)]}),_:2},[X(a(V),(l,b)=>({name:b,fn:r(w=>[K(y.$slots,b,ae(se(w)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon"])]}),_:3},16))}}),ca=Q({__name:"transform",setup(j){const u=ie({status:"unsent",category:"unsent",title:"",message:"",filename:"",time:""}),i=ie({from:void 0,to:void 0,file:void 0}),M=[{value:"cmf",label:"CMF XML",icon:D.cmf},{value:"xsd",label:"NIEM XSD",icon:D.xml}],L=M.concat([{value:"json_schema",label:"JSON Schema",icon:D.json},{value:"owl",label:"OWL",icon:D.owl}]),O=A(()=>{var n;return(n=M.find(s=>s.value==i.from))==null?void 0:n.icon}),E=A(()=>{var n;return(n=L.find(s=>s.value===i.to))==null?void 0:n.icon}),U=A(()=>{var n;return`curl -i -X POST -H "Content-Type: multipart/form-data" -F from=${i.from} -F to=${i.to} -F file=@${(n=i.file)==null?void 0:n.name} ${ne.transform}`}),V=[{label:"Crash Driver CMF",icon:D.cmf,onSelect:l},{label:"Crash Driver XSD ZIP",icon:D.xml,onSelect:w},{label:"Invalid Crash Driver CMF",icon:D.error,onSelect:b}],S=sa("");function y(n){const s=oa();return Z(s,"file",n.file),Z(s,"from",n.from),Z(s,"to",n.to),s}function e(n){var f,c;S.value="";const m=n.target.files;if(!m||m.length==0)return;switch(i.file=m[0],(c=(f=i.file.name)==null?void 0:f.split("."))==null?void 0:c.pop()){case void 0:return;case"cmf":case"xml":i.from="cmf";break;case"xsd":case"zip":i.from="xsd";break;default:i.from=void 0,S.value="Please select a valid file (.xml, .cmf, .xsd, .zip)";break}}let G=A(()=>{switch(i.to){case"cmf":return"cmf.xml";case"xsd":return"zip";case"owl":return"ttl";case"json_schema":return"schema.json"}});async function P(){var m,g,f;let n=Date.now();u.status="pending",u.category="pending",u.message="Request sent...",console.log("Sending transform request",i.from,i.to,i.file);const s=await fetch(ne.transform,{body:la(i),method:"post",mode:"no-cors"});if(u.time=De(n),s.ok){const c=await s.blob(),h=s.headers.get("Content-Disposition");u.filename=(h==null?void 0:h.split("=")[1])||"transform-results."+G,Fe.saveAs(c,u.filename),u.category="success",u.error=void 0,u.title="",u.message=`Downloaded ${u.filename}`,console.log("Request succeeded",u.filename)}else u.category="error",u.error=await s.json()||await s.text(),u.title=`ERROR ${(m=u.error)==null?void 0:m.status}: ${(g=u.error)==null?void 0:g.error}`,u.message=((f=u.error)==null?void 0:f.message.replaceAll(";",`

`))||"",console.error("Request failed");u.status="returned"}async function l(){t("/demo/transform/CrashDriver.cmf.xml","cmf")}async function b(){t("/demo/transform/CrashDriver-0.6.cmf.xml","cmf")}async function w(){t("/demo/transform/CrashDriver.zip","xsd")}async function t(n,s){const g=await(await fetch(n)).blob(),f=n.split("/").pop()||"input.text",c=new File([g],f),h=new DataTransfer;h.items.add(c);const k=document.getElementById("file");k.files=h.files,i.file=c,i.from=s}return(n,s)=>{const m=ke,g=oe,f=ze,c=Ie,h=Ce,k=na,B=ma,be=Se,x=Te,Y=$e,ve=Le,he=we,ye=Oe;return d(),F(_,null,[o(c,{link:("links"in n?n.links:a(W)).transform},{info:r(()=>[s[9]||(s[9]=T("p",null," Transform a NIEM subset, schema, IEPD schemas, or message model in either CMF or NIEM XML Schema to another supported format. ",-1)),T("p",null,[s[4]||(s[4]=C(" This functionality leverages the ")),o(m,{link:("links"in n?n.links:a(W)).cmfTool},null,8,["link"]),s[5]||(s[5]=C()),o(g,null,{default:r(()=>s[2]||(s[2]=[C("version 0.7-alpha.6")])),_:1}),s[6]||(s[6]=C(" which supports ")),o(m,{link:("links"in n?n.links:a(W)).cmf},null,8,["link"]),s[7]||(s[7]=C()),o(g,null,{default:r(()=>s[3]||(s[3]=[C("version 0.8")])),_:1}),s[8]||(s[8]=C(". "))]),s[10]||(s[10]=T("p",{class:"font-medium"},"Tips:",-1)),s[11]||(s[11]=T("ul",{class:"bullets"},[T("li",null," CMF inputs have to be the version supported by this tool. "),T("li",null," CMF version migration is not automated and must be done by hand. "),T("li",null," NIEM XSD inputs can be a single schema as a XSD file or multiple schemas in a zip file. "),T("li",null," Validation or conformance errors may lead to transform failure. ")],-1)),s[12]||(s[12]=T("br",null,null,-1))]),developer:r(()=>[o(f,{title:"POST request",code:a(U)},null,8,["code"])]),_:1},8,["link"]),o(he,null,{default:r(()=>[o(ve,{state:a(i),validate:y,onSubmit:ia(P,["prevent"]),enctype:"multipart/form-data"},{default:r(()=>[o(x,{name:"file",required:"",error:a(S),label:"1. Select a model input file",help:"Do not upload sensitive or distribution-restricted files."},{default:r(()=>[o(be,null,{default:r(()=>[o(h,{onChange:e,class:"w-[600px]"},{trailing:r(()=>s[13]||(s[13]=[C("(CMF | XSD | ZIP)")])),_:1}),o(k,{color:"neutral",variant:"subtle",label:"Demo"}),o(B,{items:V},{default:r(()=>[o(k,{color:"neutral",variant:"subtle",icon:("icons"in n?n.icons:a(D)).down},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["error"]),o(x,{name:"from",required:"",label:"2. Select input file format"},{default:r(()=>[o(Y,{modelValue:a(i).from,"onUpdate:modelValue":s[0]||(s[0]=H=>a(i).from=H),items:M,icon:a(O),class:"w-64"},null,8,["modelValue","icon"])]),_:1}),o(x,{name:"to",required:"",label:"3. Select transformation format"},{default:r(()=>[o(Y,{modelValue:a(i).to,"onUpdate:modelValue":s[1]||(s[1]=H=>a(i).to=H),items:a(L),icon:a(E),class:"w-64"},null,8,["modelValue","items","icon"])]),_:1}),o(k,{type:"submit",ui:("ui"in n?n.ui:a(p)).button_default},{default:r(()=>s[14]||(s[14]=[C("Transform")])),_:1},8,["ui"])]),_:1},8,["state"])]),_:1}),o(ye,{results:a(u)},null,8,["results"])],64)}}}),Sa=ra(ca,[["__scopeId","data-v-9ce07e5d"]]);export{Sa as default};
