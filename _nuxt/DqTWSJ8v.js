import{_ as V}from"./Dbequ_sm.js";import{_ as j}from"./FvzNdf1L.js";import{e as g,o as p,c as P,b as a,f as n,E as z,P as E,D as H,$ as T,B as K,h as F,y as q,g as G,C as J,i as Q,j as W,x as X,k as L,l as Y,r as I,m as Z,n as R,p as ee,q as b,s as v,w as r,v as S,z as C,A as N,F as te,G as se,H as oe,I as ae,a as f,t as k,J as ne,K as re,L as le,M as ce}from"./CWQT1cTJ.js";import{_ as de,a as M}from"./n33wfxEN.js";import{S as ie}from"./BX_ou7Bw.js";import{_ as $}from"./CEzrgrCa.js";import{_ as ue}from"./Coy3Cr9K.js";import{C as y}from"./C0e8eNHv.js";import{_ as pe}from"./CvNyCD49.js";import{A as me}from"./D_BTO39A.js";import"./6bm_RRcn.js";const _e=g({__name:"InfoSteward",props:{steward:{}},setup(i){const t=ie.infoItems(i.steward),e={root:"w-[600px]",thead:"hidden",td:"whitespace-normal text-wrap"};return(c,s)=>{const o=de;return p(),P("div",null,[a(o,{data:n(t),ui:e},null,8,["data"])])}}}),fe={Root:z,Trigger:E,Portal:H,Content:T,Arrow:K},we={Root:F,Trigger:q,Portal:G,Content:J,Arrow:Q,Close:W,Anchor:X},ve={slots:{content:"bg-[var(--ui-bg)] shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-[var(--ui-border)] data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] focus:outline-none",arrow:"fill-[var(--ui-border)]"}},ge=ae;var O;const he=L({extend:L(ve),...((O=ge.ui)==null?void 0:O.popover)||{}}),ye=g({__name:"Popover",props:{mode:{default:"click"},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},preventClose:{type:Boolean},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean},openDelay:{default:0},closeDelay:{default:0}},emits:["update:open"],setup(i,{emit:t}){const e=i,c=t,s=Y(),o=e.mode==="hover"?I(e,"defaultOpen","open","openDelay","closeDelay"):I(e,"defaultOpen","open","modal"),d=Z(o,c),m=R(()=>ee(e.content,{side:"bottom",sideOffset:8})),w=b(()=>e.preventClose?{pointerDownOutside:l=>l.preventDefault(),interactOutside:l=>l.preventDefault(),escapeKeyDown:l=>l.preventDefault()}:{}),B=R(()=>e.arrow),h=b(()=>he({side:m.value.side})),_=b(()=>e.mode==="hover"?fe:we);return(l,u)=>(p(),v(n(_).Root,se(oe(n(d))),{default:r(({open:D})=>[s.default?(p(),v(n(_).Trigger,{key:0,"as-child":""},{default:r(()=>[S(l.$slots,"default",{open:D})]),_:2},1024)):C("",!0),a(n(_).Portal,{disabled:!l.portal},{default:r(()=>{var U;return[a(n(_).Content,N(m.value,{class:h.value.content({class:[e.class,(U=e.ui)==null?void 0:U.content]})},te(w.value)),{default:r(()=>{var A;return[S(l.$slots,"content"),l.arrow?(p(),v(n(_).Arrow,N({key:0},B.value,{class:h.value.arrow({class:(A=e.ui)==null?void 0:A.arrow})}),null,16,["class"])):C("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16))}}),be=g({__name:"ListModels",props:{models:{}},setup(i){const t=b(()=>i.models.map(e=>({icon:$.model,label:e.shortName,model:e})));return(e,c)=>{const s=j,o=M;return p(),P("div",null,[a(o,{items:n(t)},{default:r(({item:d})=>[f("span",null,k(d.model.shortName),1),d.model.category?(p(),v(s,{key:0,label:d.model.category,size:"sm",variant:"subtle",class:"ml-2 font-light"},null,8,["label"])):C("",!0)]),body:r(({item:d})=>[f("p",null,k(d.model.description),1)]),_:1},8,["items"])])}}});class x{static async stewards(){let t=await fetch(`${y.baseURL}/stewards`);return t.ok?await t.json():[]}static async steward(t){let e=await fetch(`${y.baseURL}/stewards/${t}`);if(e.ok)return await e.json()}static async models(t){let e=await fetch(`${y.baseURL}/stewards/${t}/models`);return e.ok?await e.json():[]}static async model(t,e){let c=await fetch(`${y.baseURL}/stewards/${t}/models/${e}`);if(c.ok)return await c.json()}}const $e={class:"ml-7 mb-2"},Ce=g({__name:"ListStewards",props:{stewards:{default:()=>[]}},setup(i){const t=ne(i.stewards.map(s=>({icon:$.steward,label:s.shortName,steward:s,models:[],modelsLoaded:!1})));async function e(s){let o=t.value.at(Number(s));o&&!o.modelsLoaded&&(o.models=await x.models(o.steward.stewardKey),o.modelsLoaded=!0)}function c(s){let o="";return o+=s.country,o+=s.country&&s.category?" | ":"",o+=s.category,o}return(s,o)=>{const d=j,m=re,w=_e,B=ye,h=be,_=ue,l=M;return p(),P("div",null,[a(l,{items:n(t),type:"multiple"},{default:r(({item:u})=>[f("span",null,k(u.steward.shortName),1),c(u.steward)?(p(),v(d,{key:0,label:c(u.steward),color:"neutral",variant:"subtle",class:"ml-2 font-light",size:"sm"},null,8,["label"])):C("",!0)]),body:r(({item:u,index:D})=>[f("div",$e,[f("p",null,k(u.steward.description),1),o[0]||(o[0]=f("span",null,"Details:",-1)),a(B,{mode:"hover",content:{side:"right"},class:"w-[600px]"},{content:r(()=>[a(w,{steward:u.steward,class:"w-600"},null,8,["steward"])]),default:r(()=>[a(m,{icon:("icons"in s?s.icons:n($)).info,color:"neutral",variant:"ghost"},null,8,["icon"])]),_:2},1024),a(_,{class:"mt-3",defaultOpen:!0,onVnodeMounted:U=>e(D)},{content:r(()=>[a(h,{models:u.models,class:"mt-3 ml-8"},null,8,["models"])]),default:r(()=>[a(m,{label:"Models ("+u.models.length+")",color:"neutral",variant:"subtle",leadingIcon:("icons"in s?s.icons:n($)).down,block:"",class:"justify-start"},null,8,["label","leadingIcon"])]),_:2},1032,["onVnodeMounted"])])]),_:1},8,["items"])])}}}),Oe=g({__name:"browse",async setup(i){let t,e;const c=([t,e]=le(()=>x.stewards()),t=await t,e(),t);return(s,o)=>{const d=V,m=Ce,w=pe;return p(),P(ce,null,[a(d,{page:("AppItems"in s?s.AppItems:n(me)).browse},null,8,["page"]),a(w,null,{default:r(()=>[a(m,{stewards:n(c)},null,8,["stewards"])]),_:1})],64)}}});export{Oe as default};
